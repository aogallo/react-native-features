import type { NativeStackScreenProps } from '@react-navigation/native-stack'
import PlacesList from '../components/Places/PlacesList'
import { RootStackParamList } from '../navigation/types'
import { useEffect, useState } from 'react'
import { useIsFocused } from '@react-navigation/native'
import { fetchPlaces } from '../util/database'

export type AllPlacesScreenProps = NativeStackScreenProps<
  RootStackParamList,
  'AllPlaces'
>

const AllPlaces = ({ route }: AllPlacesScreenProps) => {
  const [places, setPlaces] = useState<Place[]>([
    {
      id: '1',
      address: '31 avenida 31-25 zona 5 La Providencia',
      title: 'Test',
      location: { lat: 37.8, lng: -122 },
      imageUri:
        'data:image/jpeg;base64,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',
    },
  ])
  const isFocused = useIsFocused()

  useEffect(() => {
    fetchPlaces().then((data) => setPlaces(data.rows._array))
  }, [isFocused])

  useEffect(() => {
    if (isFocused && route.params) {
      setPlaces((currentPlaces) => [...currentPlaces, route.params?.place!])
    }
  }, [isFocused, route])

  return <PlacesList places={places} />
}

export default AllPlaces
